{"version":3,"file":"album-art.js","sources":["../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/idb-keyval/dist/compat.js","../node_modules/@lit/reactive-element/decorators/query-assigned-elements.js","../out-tsc/src/provider/metainfo.js","../out-tsc/src/provider/populate.js","../out-tsc/src/provider/album/config.js","../out-tsc/src/provider/album/lastfm.js","../out-tsc/src/provider/artist/config.js","../out-tsc/src/provider/artist/fanart.js","../out-tsc/src/provider/artist/audiodb.js","../out-tsc/src/fetchArt.js","../node_modules/lit-html/static.js","../out-tsc/src/icons/cd.js","../out-tsc/src/defaultart.js","../out-tsc/src/icons/people.js","../out-tsc/src/album-art.js","../node_modules/tslib/tslib.es6.js","../node_modules/@lit/reactive-element/decorators/custom-element.js"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,e=Symbol(),n=new Map;class s{constructor(t,n){if(this._$cssResult$=!0,n!==e)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t}get styleSheet(){let e=n.get(this.cssText);return t&&void 0===e&&(n.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}const o=t=>new s(\"string\"==typeof t?t:t+\"\",e),r=(t,...n)=>{const o=1===t.length?t[0]:n.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(n)+t[s+1]),t[0]);return new s(o,e)},i=(e,n)=>{t?e.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((t=>{const n=document.createElement(\"style\"),s=window.litNonce;void 0!==s&&n.setAttribute(\"nonce\",s),n.textContent=t.cssText,e.appendChild(n)}))},S=t?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const n of t.cssRules)e+=n.cssText;return o(e)})(t):t;export{s as CSSResult,i as adoptStyles,r as css,S as getCompatibleStyle,t as supportsAdoptingStyleSheets,o as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as i}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var s;const e=window.trustedTypes,r=e?e.emptyScript:\"\",h=window.reactiveElementPolyfillSupport,o={toAttribute(t,i){switch(i){case Boolean:t=t?r:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},n=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:o,reflect:!1,hasChanged:n};class a extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var i;null!==(i=this.l)&&void 0!==i||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Eh(s,i);void 0!==e&&(this._$Eu.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(t(i))}else void 0!==i&&s.push(t(i));return s}static _$Eh(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$Eg)&&void 0!==i?i:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$Eg)||void 0===i||i.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Et.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$ES(t,i,s=l){var e,r;const h=this.constructor._$Eh(t,s);if(void 0!==h&&!0===s.reflect){const n=(null!==(r=null===(e=s.converter)||void 0===e?void 0:e.toAttribute)&&void 0!==r?r:o.toAttribute)(i,s.type);this._$Ei=t,null==n?this.removeAttribute(h):this.setAttribute(h,n),this._$Ei=null}}_$AK(t,i){var s,e,r;const h=this.constructor,n=h._$Eu.get(t);if(void 0!==n&&this._$Ei!==n){const t=h.getPropertyOptions(n),l=t.converter,a=null!==(r=null!==(e=null===(s=l)||void 0===s?void 0:s.fromAttribute)&&void 0!==e?e:\"function\"==typeof l?l:null)&&void 0!==r?r:o.fromAttribute;this._$Ei=n,this[n]=a(i,t.type),this._$Ei=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||n)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,i)=>this[i]=t)),this._$Et=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$EU()}catch(t){throw i=!1,this._$EU(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$Eg)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$ES(i,this[i],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}a.finalized=!0,a.elementProperties=new Map,a.elementStyles=[],a.shadowRootOptions={mode:\"open\"},null==h||h({ReactiveElement:a}),(null!==(s=globalThis.reactiveElementVersions)&&void 0!==s?s:globalThis.reactiveElementVersions=[]).push(\"1.3.2\");export{a as ReactiveElement,o as defaultConverter,n as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=globalThis.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=`lit$${(Math.random()+\"\").slice(9)}$`,o=\"?\"+e,n=`<${o}>`,l=document,h=(t=\"\")=>l.createComment(t),r=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,d=Array.isArray,u=t=>{var i;return d(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},c=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,_=/'/g,m=/\"/g,g=/^(?:script|style|textarea|title)$/i,p=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),$=p(1),y=p(2),b=Symbol.for(\"lit-noChange\"),w=Symbol.for(\"lit-nothing\"),T=new WeakMap,x=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l},A=l.createTreeWalker(l,129,null,!1),C=(t,i)=>{const o=t.length-1,l=[];let h,r=2===i?\"<svg>\":\"\",d=c;for(let i=0;i<o;i++){const s=t[i];let o,u,p=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===c?\"!--\"===u[1]?d=v:void 0!==u[1]?d=a:void 0!==u[2]?(g.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=f):void 0!==u[3]&&(d=f):d===f?\">\"===u[0]?(d=null!=h?h:c,p=-1):void 0===u[1]?p=-2:(p=d.lastIndex-u[2].length,o=u[1],d=void 0===u[3]?f:'\"'===u[3]?m:_):d===m||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);const y=d===f&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===c?s+n:p>=0?(l.push(o),s.slice(0,p)+\"$lit$\"+s.slice(p)+e+y):s+e+(-2===p?(l.push(void 0),i):y)}const u=r+(t[o]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==s?s.createHTML(u):u,l]};class E{constructor({strings:t,_$litType$:s},n){let l;this.parts=[];let r=0,d=0;const u=t.length-1,c=this.parts,[v,a]=C(t,s);if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(e)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?H:\"@\"===i[1]?I:S})}else c.push({type:6,index:r})}for(const i of t)l.removeAttribute(i)}if(g.test(l.tagName)){const t=l.textContent.split(e),s=t.length-1;if(s>0){l.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)l.append(t[i],h()),A.nextNode(),c.push({type:2,index:++r});l.append(t[s],h())}}}else if(8===l.nodeType)if(l.data===o)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=l.data.indexOf(e,t+1));)c.push({type:7,index:r}),t+=e.length-1}r++}}static createElement(t,i){const s=l.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===b)return i;let d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t),d._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}class V{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),h=0,r=0,d=e[0];for(;void 0!==d;){if(h===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new L(n,this,t)),this.v.push(i),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),r(t)?t===w||null==t||\"\"===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new V(o,this),i=t.p(this.options);t.m(s),this.k(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}S(t){d(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.M(h()),this.M(h()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class S{constructor(t,i,s,e,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!r(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===b&&(h=this._$AH[l]),n||(n=!r(h)||h!==this._$AH[l]),h===w?t=w:t!==w&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.C(t)}C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends S{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===w?void 0:t}}const k=i?i.emptyScript:\"\";class H extends S{constructor(){super(...arguments),this.type=4}C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)===b)return;const e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const R={L:\"$lit$\",P:e,V:o,I:1,N:C,R:V,j:u,D:P,H:N,F:S,O:H,W:I,B:M,Z:L},z=window.litHtmlPolyfillSupport;null==z||z(E,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push(\"2.2.6\");export{R as _$LH,$ as html,b as noChange,w as nothing,x as render,y as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var l,o;const r=t;class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return i}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s});const h={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push(\"3.2.0\");export{s as LitElement,r as UpdatingElement,h as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction promisifyRequest(request) {\n  return new Promise(function (resolve, reject) {\n    // @ts-ignore - file size hacks\n    request.oncomplete = request.onsuccess = function () {\n      return resolve(request.result);\n    }; // @ts-ignore - file size hacks\n\n\n    request.onabort = request.onerror = function () {\n      return reject(request.error);\n    };\n  });\n}\n\nfunction createStore(dbName, storeName) {\n  var request = indexedDB.open(dbName);\n\n  request.onupgradeneeded = function () {\n    return request.result.createObjectStore(storeName);\n  };\n\n  var dbp = promisifyRequest(request);\n  return function (txMode, callback) {\n    return dbp.then(function (db) {\n      return callback(db.transaction(storeName, txMode).objectStore(storeName));\n    });\n  };\n}\n\nvar defaultGetStoreFunc;\n\nfunction defaultGetStore() {\n  if (!defaultGetStoreFunc) {\n    defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n  }\n\n  return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction get(key) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    return promisifyRequest(store.get(key));\n  });\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction set(key, value) {\n  var customStore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    store.put(value, key);\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic – if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction setMany(entries) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    entries.forEach(function (entry) {\n      return store.put(entry[1], entry[0]);\n    });\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction getMany(keys) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    return Promise.all(keys.map(function (key) {\n      return promisifyRequest(store.get(key));\n    }));\n  });\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction update(key, updater) {\n  var customStore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    return (// Need to create the promise manually.\n      // If I try to chain promises, the transaction closes in browsers\n      // that use a promise polyfill (IE10/11).\n      new Promise(function (resolve, reject) {\n        store.get(key).onsuccess = function () {\n          try {\n            store.put(updater(this.result), key);\n            resolve(promisifyRequest(store.transaction));\n          } catch (err) {\n            reject(err);\n          }\n        };\n      })\n    );\n  });\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction del(key) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    store.delete(key);\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction delMany(keys) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    keys.forEach(function (key) {\n      return store.delete(key);\n    });\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction clear() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    store.clear();\n    return promisifyRequest(store.transaction);\n  });\n}\n\nfunction eachCursor(store, callback) {\n  store.openCursor().onsuccess = function () {\n    if (!this.result) return;\n    callback(this.result);\n    this.result.continue();\n  };\n\n  return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction keys() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    // Fast path for modern browsers\n    if (store.getAllKeys) {\n      return promisifyRequest(store.getAllKeys());\n    }\n\n    var items = [];\n    return eachCursor(store, function (cursor) {\n      return items.push(cursor.key);\n    }).then(function () {\n      return items;\n    });\n  });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction values() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    // Fast path for modern browsers\n    if (store.getAll) {\n      return promisifyRequest(store.getAll());\n    }\n\n    var items = [];\n    return eachCursor(store, function (cursor) {\n      return items.push(cursor.value);\n    }).then(function () {\n      return items;\n    });\n  });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction entries() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    // Fast path for modern browsers\n    // (although, hopefully we'll get a simpler path some day)\n    if (store.getAll && store.getAllKeys) {\n      return Promise.all([promisifyRequest(store.getAllKeys()), promisifyRequest(store.getAll())]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            keys = _ref2[0],\n            values = _ref2[1];\n\n        return keys.map(function (key, i) {\n          return [key, values[i]];\n        });\n      });\n    }\n\n    var items = [];\n    return customStore('readonly', function (store) {\n      return eachCursor(store, function (cursor) {\n        return items.push([cursor.key, cursor.value]);\n      }).then(function () {\n        return items;\n      });\n    });\n  });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var n;const e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function l(n){const{slot:l,selector:t}=null!=n?n:{};return o({descriptor:o=>({get(){var o;const r=\"slot\"+(l?`[name=${l}]`:\":not([name])\"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}export{l as queryAssignedElements};\n//# sourceMappingURL=query-assigned-elements.js.map\n","export const LASTFMAPIKEY = process.env.LASTFM_APIKEY;\r\nconst getMetaInfo = async ({ artist, album, }) => {\r\n    const searchParams = new URLSearchParams();\r\n    searchParams.set('api_key', LASTFMAPIKEY);\r\n    searchParams.set('artist', artist);\r\n    searchParams.set('format', 'json');\r\n    searchParams.set('autoCorrect', 'true');\r\n    if (album) {\r\n        searchParams.set('method', 'album.getinfo');\r\n        searchParams.set('album', album);\r\n    }\r\n    else {\r\n        searchParams.set('method', 'artist.getinfo');\r\n    }\r\n    const response = await fetch(`https://ws.audioscrobbler.com/2.0/?${searchParams}`);\r\n    const json = await response.json();\r\n    return json;\r\n};\r\nconst getMBID = async (artist) => {\r\n    const searchParams = new URLSearchParams();\r\n    searchParams.set('fmt', 'json');\r\n    searchParams.set('query', artist);\r\n    const response = await fetch(`https://musicbrainz.org/ws/2/artist/?${searchParams}`);\r\n    const { artists } = await response.json();\r\n    return artists[0].id;\r\n};\r\nexport { getMetaInfo, getMBID };\r\n//# sourceMappingURL=metainfo.js.map","const populate = (id, config) => {\r\n    return config.map((p) => {\r\n        const { provider, key } = p;\r\n        if (key) {\r\n            return provider(id[key]);\r\n        }\r\n        return provider(id);\r\n    });\r\n};\r\nexport { populate };\r\n//# sourceMappingURL=populate.js.map","import { fetchArt as lastfm } from './lastfm';\r\nconst config = [\r\n    {\r\n        provider: lastfm,\r\n    },\r\n];\r\nexport { config };\r\n//# sourceMappingURL=config.js.map","import { getMetaInfo } from './../metainfo';\r\nconst fetchArt = async ({ artist, album, }) => {\r\n    const json = await getMetaInfo({ artist, album });\r\n    const { album: { image }, } = json;\r\n    return image[image.length - 1]['#text'];\r\n};\r\nexport { fetchArt };\r\n//# sourceMappingURL=lastfm.js.map","import { fetchArt as fanart } from './fanart';\r\nimport { fetchArt as audiodb } from './audiodb';\r\nconst config = [\r\n    {\r\n        provider: fanart,\r\n        key: 'mbid',\r\n    },\r\n    {\r\n        provider: audiodb,\r\n        key: 'artist',\r\n    },\r\n];\r\nexport { config };\r\n//# sourceMappingURL=config.js.map","const FANARTAPIKEY = process.env.FANART_APIKEY;\r\nconst fetchArt = async (mbid) => {\r\n    if (!mbid) {\r\n        throw Error('Cannot search without a proper mbid');\r\n    }\r\n    const response = await fetch(`https://webservice.fanart.tv/v3/music/${mbid}&?api_key=${FANARTAPIKEY}&format=json`);\r\n    if (response.status === 200) {\r\n        const json = await response.json();\r\n        const { artistthumb } = json;\r\n        if (artistthumb) {\r\n            return artistthumb[0].url;\r\n        }\r\n    }\r\n    throw Error('no art found in provider fanart');\r\n};\r\nexport { fetchArt };\r\n//# sourceMappingURL=fanart.js.map","const fetchArt = async (artist) => {\r\n    const response = await fetch(`https://www.theaudiodb.com/api/v1/json/2/search.php?s=${encodeURIComponent(artist)}`);\r\n    if (response.status === 200) {\r\n        const json = await response.json();\r\n        const { artists } = json;\r\n        if (artists) {\r\n            return artists[0].strArtistThumb || artists[0].strArtistFanart;\r\n        }\r\n    }\r\n    throw Error('no art found in provider audiodb');\r\n};\r\nexport { fetchArt };\r\n//# sourceMappingURL=audiodb.js.map","import { getMetaInfo, getMBID } from './provider/metainfo';\r\nimport { populate } from './provider/populate';\r\nimport { config as albumConfig } from './provider/album/config';\r\nimport { config as artistConfig } from './provider/artist/config';\r\nconst fetchArtForArtist = async (artist) => {\r\n    const album = '';\r\n    const json = await getMetaInfo({ artist, album });\r\n    let { artist: { mbid }, } = json;\r\n    if (!mbid) {\r\n        mbid = await getMBID(artist);\r\n    }\r\n    const id = { mbid, artist };\r\n    return await Promise.any(populate(id, artistConfig));\r\n};\r\nconst fetchArtForAlbum = async ({ artist, album, }) => {\r\n    const id = { artist, album };\r\n    return await Promise.any(populate(id, albumConfig));\r\n};\r\nexport { fetchArtForArtist, fetchArtForAlbum };\r\n//# sourceMappingURL=fetchArt.js.map","import{html as t,svg as r}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o=Symbol.for(\"\"),e=t=>{var r,e;if((null===(r=t)||void 0===r?void 0:r.r)===o)return null===(e=t)||void 0===e?void 0:e._$litStatic$},i=t=>({_$litStatic$:t,r:o}),l=(t,...r)=>({_$litStatic$:r.reduce(((r,o,e)=>r+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\\n            take care to ensure page security.`)})(o)+t[e+1]),t[0]),r:o}),a=new Map,s=t=>(r,...o)=>{const i=o.length;let l,s;const n=[],u=[];let c,v=0,$=!1;for(;v<i;){for(c=r[v];v<i&&void 0!==(s=o[v],l=e(s));)c+=l+r[++v],$=!0;u.push(s),n.push(c),v++}if(v===i&&n.push(r[i]),$){const t=n.join(\"$$lit$$\");void 0===(r=a.get(t))&&(n.raw=n,a.set(t,r=n)),o=u}return t(r,...o)},n=s(t),u=s(r);export{n as html,l as literal,u as svg,i as unsafeStatic,s as withStatic};\n//# sourceMappingURL=static.js.map\n","import { html } from 'lit/static-html.js';\r\nconst svg = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-256 -256 1024 1024\">\n  <path\n    fill=\"rgba(0,0,0,0.5)\"\n    d=\"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 464c-119.1 0-216-96.9-216-216S128.9 40 248 40s216 96.9 216 216-96.9 216-216 216zm0-312c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 160c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm0-88c-13.2 0-24 10.8-24 24s10.8 24 24 24 24-10.8 24-24-10.8-24-24-24zm-8-144c-88.2 0-160 71.8-160 160h32c0-70.6 57.4-128 128-128V88z\"\n    class=\"\"\n  ></path>\n</svg>\n`;\r\nexport const cdIcon = html `${svg}`;\r\nexport const cdSVG = svg;\r\n//# sourceMappingURL=cd.js.map","import { peopleSVG } from './icons/people';\r\nimport { cdSVG } from './icons/cd';\r\nconst defaultAlbum = `data:image/svg+xml;base64,${btoa(cdSVG)}`;\r\nconst defaultArtist = `data:image/svg+xml;base64,${btoa(peopleSVG)}`;\r\nconst defaultPixel = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAANSURBVBhXY/j//z8DAAj8Av6IXwbgAAAAAElFTkSuQmCC`;\r\nexport { defaultAlbum, defaultArtist, defaultPixel };\r\n//# sourceMappingURL=defaultart.js.map","import { html } from 'lit';\r\nconst svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-256 -256 1200 1024\">\n<path\n  fill=\"rgba(0,0,0,0.5)\"\n  d=\"M480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm0-160c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm0-192c44.1 0 80 35.9 80 80s-35.9 80-80 80-80-35.9-80-80 35.9-80 80-80zm80.1 212c-33.4 0-41.7 12-80.1 12-38.4 0-46.7-12-80.1-12-36.3 0-71.6 16.2-92.3 46.9C7.2 341.3 0 363.4 0 387.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-44.8c0-23.8-7.2-45.9-19.6-64.3-20.7-30.7-56-46.9-92.3-46.9zM352 432c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16v-44.8c0-16.6 4.9-32.7 14.1-46.4 13.8-20.5 38.4-32.8 65.7-32.8 27.4 0 37.2 12 80.2 12s52.8-12 80.1-12c27.3 0 51.9 12.3 65.7 32.8 9.2 13.7 14.1 29.8 14.1 46.4V432zm271.7-114.9C606.4 291.5 577 278 546.8 278c-27.8 0-34.8 10-66.8 10s-39-10-66.8-10c-13.2 0-26.1 3-38.1 8.1 15.2 15.4 18.5 23.6 20.2 26.6 5.7-1.6 11.6-2.6 17.9-2.6 21.8 0 30 10 66.8 10s45-10 66.8-10c21 0 39.8 9.3 50.4 25 7.1 10.5 10.9 22.9 10.9 35.7V408c0 4.4-3.6 8-8 8H416c0 17.7.3 22.5-1.6 32H600c22.1 0 40-17.9 40-40v-37.3c0-19.9-6-38.3-16.3-53.6z\"\n  class=\"\"\n></path>\n</svg>`;\r\nexport const peopleIcon = html `${svg}`;\r\nexport const peopleSVG = svg;\r\n//# sourceMappingURL=people.js.map","import { __decorate } from \"tslib\";\r\nimport { LitElement, html, css } from 'lit';\r\nimport { customElement } from 'lit/decorators.js';\r\nimport { createStore, get, set } from 'idb-keyval';\r\nimport { fetchArtForArtist, fetchArtForAlbum } from './fetchArt';\r\nimport { defaultAlbum, defaultArtist, defaultPixel } from './defaultart';\r\nlet AlbumArt = class AlbumArt extends LitElement {\r\n    constructor() {\r\n        super();\r\n        this.ARTBASE = `https://res.cloudinary.com/jsmusicdb-com/image/fetch/f_auto`;\r\n        this.art = defaultPixel;\r\n        this._cache = {};\r\n        this.customStore = createStore('album-art-db', 'album-art-store');\r\n        this.objectFit = 'cover';\r\n        this.cache = false;\r\n        this.transparent = false;\r\n        this.dimension = 300;\r\n    }\r\n    static get properties() {\r\n        return {\r\n            artist: { type: String },\r\n            album: { type: String },\r\n            art: { type: String },\r\n            cache: { type: Boolean },\r\n            customStore: { type: Object },\r\n            _cache: { type: Object },\r\n            objectFit: { type: String },\r\n            transparent: { type: Boolean },\r\n        };\r\n    }\r\n    static get styles() {\r\n        return css `\n      img {\n        width: 100%;\n        height: 100%;\n        transition: all 0.2s ease-in-out;\n        background: rgba(255, 255, 255, 0.85);\n      }\n      ::-moz-selection {\n        background-color: var(--primary);\n      }\n      ::selection {\n        background-color: var(--primary);\n      }\n      p {\n        margin: 0;\n      }\n      .loading {\n        opacity: 0.25;\n        filter: blur(5px);\n      }\n      .transparent {\n        background: transparent;\n      }\n    `;\r\n    }\r\n    getDimensions() {\r\n        /*\r\n        this.dimension = Math.min(\r\n          Math.max(this.offsetWidth, this.offsetHeight) || 300\r\n        );\r\n        */\r\n        this.dimension = 300;\r\n    }\r\n    render() {\r\n        return html `\n      <img\n        src=\"${this.art}\"\n        alt=\"${this.artist}${this.album ? ` - ${this.album}` : ''}\"\n        style=\"object-fit: ${this.objectFit}\"\n        @load=${(e) => {\r\n            // @ts-ignore\r\n            e.target.classList.remove('loading');\r\n        }}\n        @error=${(e) => {\r\n            // @ts-ignore\r\n            e.target.classList.remove('loading');\r\n            if (this.album) {\r\n                // @ts-ignore\r\n                e.target.src = defaultAlbum;\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                e.target.src = defaultArtist;\r\n            }\r\n        }}\n        loading=\"lazy\"\n        class=\"${this.transparent ? 'transparent ' : ''}\"\n      />\n    `;\r\n    }\r\n    async connectedCallback() {\r\n        super.connectedCallback();\r\n        this.artist = this.artist === 'undefined' ? undefined : this.artist;\r\n        this.album = this.album === 'undefined' ? undefined : this.album;\r\n        if (!this.artist) {\r\n            return;\r\n        }\r\n        await this.updateComplete;\r\n        this.getDimensions();\r\n        const key = {\r\n            artist: this.artist,\r\n            album: this.album,\r\n            dimension: this.dimension,\r\n        };\r\n        let cacheKey = `${this.artist}-${this.album}`;\r\n        if (!key.album) {\r\n            cacheKey = `${this.dimension}-${this.artist}`;\r\n        }\r\n        if (this._cache[cacheKey]) {\r\n            this.art = this._cache[cacheKey];\r\n            this.dispatch();\r\n            return;\r\n        }\r\n        const cache = await this.getArt(key);\r\n        this.cache = !(this.getAttribute('cache') === 'false');\r\n        if (this.cache && cache) {\r\n            this.art = cache;\r\n            this.dispatch();\r\n        }\r\n        else {\r\n            this.updateArt(key);\r\n        }\r\n    }\r\n    dispatch() {\r\n        const evt = new CustomEvent('art', {\r\n            detail: { art: this.art },\r\n            bubbles: true,\r\n            composed: true,\r\n        });\r\n        this.dispatchEvent(evt);\r\n    }\r\n    updated(changedProperties) {\r\n        changedProperties.forEach(async (oldValue, propName) => {\r\n            this.cache = !(this.getAttribute('cache') === 'false');\r\n            if (propName === 'artist' || propName === 'album') {\r\n                this.art = defaultPixel;\r\n                this.shadowRoot?.querySelector('img')?.classList.add('loading');\r\n                let cacheKey = `${this.artist}-${this.album}`;\r\n                if (!this.album) {\r\n                    cacheKey = `${this.dimension}-${this.artist}`;\r\n                }\r\n                if (this._cache[cacheKey]) {\r\n                    this.art = this._cache[cacheKey];\r\n                    this.dispatch();\r\n                    return;\r\n                }\r\n                else {\r\n                    const key = {\r\n                        artist: this.artist,\r\n                        album: this.album,\r\n                        dimension: this.dimension,\r\n                    };\r\n                    const cache = await this.getArt(key);\r\n                    if (this.cache && cache) {\r\n                        this.art = cache;\r\n                        this.dispatch();\r\n                    }\r\n                    else {\r\n                        this.updateArt(key);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    isEmptyArt(art) {\r\n        const base = this.ARTBASE;\r\n        if (art === base || art === `${base}/` || art.includes(`null`)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    async getArt({ artist, album, dimension, }) {\r\n        if (!album) {\r\n            return await get(`${dimension}-${artist}`, this.customStore);\r\n        }\r\n        return await get(`${artist}-${album}`, this.customStore);\r\n    }\r\n    async updateArt({ artist, album }) {\r\n        let art = this.ARTBASE;\r\n        if (!album) {\r\n            // let's resize those larger artist arts we get.\r\n            art += `,w_${this.dimension},h_${this.dimension},c_fill/`;\r\n            try {\r\n                const remoteURL = await fetchArtForArtist(this.artist);\r\n                art += remoteURL;\r\n                if (this.isEmptyArt(art))\r\n                    art = '';\r\n            }\r\n            catch (e) {\r\n                art = '';\r\n            }\r\n            if (art) {\r\n                this._cache[`${this.dimension}-${artist}`] = art;\r\n                if (this.cache) {\r\n                    set(`${this.dimension}-${artist}`, art, this.customStore);\r\n                }\r\n            }\r\n            this.art = art || defaultArtist;\r\n        }\r\n        else {\r\n            art += '/';\r\n            try {\r\n                art += await fetchArtForAlbum({ artist, album });\r\n                if (this.isEmptyArt(art))\r\n                    art = '';\r\n            }\r\n            catch (e) {\r\n                art = '';\r\n            }\r\n            if (art) {\r\n                this._cache[`${artist}-${album}`] = art;\r\n                if (this.cache) {\r\n                    set(`${artist}-${album}`, art, this.customStore);\r\n                }\r\n            }\r\n            this.art = art || defaultAlbum;\r\n        }\r\n        this.dispatch();\r\n        this.requestUpdate();\r\n    }\r\n};\r\nAlbumArt = __decorate([\r\n    customElement('album-art')\r\n], AlbumArt);\r\nexport { AlbumArt };\r\n//# sourceMappingURL=album-art.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst n=n=>e=>\"function\"==typeof e?((n,e)=>(window.customElements.define(n,e),e))(n,e):((n,e)=>{const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(e){window.customElements.define(n,e)}}})(n,e);export{n as customElement};\n//# sourceMappingURL=custom-element.js.map\n"],"names":["window","ShadowRoot","ShadyCSS","nativeShadow","Document","prototype","CSSStyleSheet","constructionToken","Symbol","styleSheetCache","Map","CSSResult","constructor","cssText","safeToken","this","_$cssResult$","Error","styleSheet","get","supportsAdoptingStyleSheets","set","replaceSync","toString","css","strings","values","length","reduce","acc","v","idx","value","getCompatibleStyle","s","sheet","rule","cssRules","String","unsafeCSS","trustedTypes","emptyStringForBooleanAttribute","emptyScript","polyfillSupport","reactiveElementPolyfillSupport","defaultConverter","toAttribute","type","Boolean","Object","Array","JSON","stringify","fromAttribute","fromValue","Number","parse","e","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","ReactiveElement","HTMLElement","super","isUpdatePending","hasUpdated","__reflectingProperty","_initialize","static","initializer","_a","_initializers","push","observedAttributes","finalize","attributes","elementProperties","forEach","p","attr","__attributeNameForProperty","__attributeToPropertyMap","name","options","state","noAccessor","hasOwnProperty","key","descriptor","getPropertyDescriptor","defineProperty","oldValue","requestUpdate","configurable","enumerable","finalized","superCtor","getPrototypeOf","props","properties","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","elementStyles","finalizeStyles","styles","isArray","Set","flat","Infinity","reverse","unshift","toLowerCase","__updatePromise","Promise","res","enableUpdating","_$changedProperties","__saveInstanceProperties","i","addController","controller","__controllers","renderRoot","isConnected","t","hostConnected","_b","removeController","splice","indexOf","_v","__instanceProperties","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","adoptedStyleSheets","map","style","document","createElement","nonce","litNonce","setAttribute","textContent","appendChild","adoptStyles","connectedCallback","c","_requestedUpdate","disconnectedCallback","hostDisconnected","attributeChangedCallback","_old","_$attributeToProperty","__propertyToAttribute","undefined","attrValue","removeAttribute","ctor","propName","getPropertyOptions","_c","r","shouldRequestUpdate","has","__reflectingProperties","__enqueueUpdate","async","reject","result","scheduleUpdate","performUpdate","shouldUpdate","changedProperties","willUpdate","hostUpdate","update","__markUpdated","_$didUpdate","_changedProperties","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","k","mode","h","globalThis","reactiveElementVersions","policy","createPolicy","createHTML","marker","Math","random","slice","markerMatch","nodeMarker","d","createMarker","createComment","isPrimitive","textEndRegex","commentEndRegex","comment2EndRegex","tagEndRegex","singleQuoteAttrEndRegex","doubleQuoteAttrEndRegex","rawTextElement","html","_$litType$","tag","noChange","for","nothing","templateCache","WeakMap","walker","createTreeWalker","getTemplateHtml","l","attrNames","rawTextEndRegex","regex","attrName","match","attrNameEndIndex","lastIndex","exec","test","RegExp","end","startsWith","htmlResult","Template","node","parts","nodeIndex","attrNameIndex","partCount","el","currentNode","content","svgElement","firstChild","remove","append","childNodes","nextNode","nodeType","hasAttributes","attrsToRemove","getAttributeNames","endsWith","realName","statics","getAttribute","split","m","index","PropertyPart","BooleanAttributePart","EventPart","AttributePart","tagName","data","_options","innerHTML","resolveDirective","part","parent","attributeIndex","currentDirective","__directives","__directive","nextDirectiveConstructor","_$litDirective$","n","_$AO","_$initialize","_$resolve","TemplateInstance","template","_parts","_$disconnectableChildren","_$template","_$parent","parentNode","_$isConnected","_clone","fragment","creationScope","importNode","partIndex","templatePart","ChildPart","nextSibling","ElementPart","_update","_$setValue","startNode","endNode","_$committedValue","_$startNode","_$endNode","__isConnected","directiveParent","_$clear","_commitText","_commitTemplateResult","_commitNode","iterator","isIterable","_commitIterable","_insert","ref","insertBefore","createTextNode","_$getTemplate","_$AD","instance","itemParts","itemPart","item","start","from","_$notifyConnectionChanged","setConnected","element","fill","valueIndex","noCommit","change","_commitValue","newListener","w","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","removeEventListener","addEventListener","handleEvent","event","call","host","litHtmlPolyfillSupport","_d","litHtmlVersions","LitElement","renderOptions","renderBefore","render","__childPart","container","partOwnerNode","_$litPart$","o","_$litElement$","litElementHydrateSupport","litElementPolyfillSupport","litElementVersions","defaultGetStoreFunc","promisifyRequest","request","resolve","oncomplete","onsuccess","onabort","onerror","error","createStore","dbName","storeName","indexedDB","open","onupgradeneeded","createObjectStore","dbp","txMode","callback","then","db","transaction","objectStore","defaultGetStore","customStore","arguments","store","put","HTMLSlotElement","assignedElements","getMetaInfo","artist","album","searchParams","URLSearchParams","response","fetch","json","populate","id","config","provider","image","mbid","status","artistthumb","url","encodeURIComponent","artists","strArtistThumb","strArtistFanart","fetchArtForArtist","getMBID","any","artistConfig","brand","unwrapStaticValue","_$litStatic$","stringsCache","coreTag","staticValue","dynamicValue","staticStrings","dynamicValues","hasStatics","join","raw","withStatic","coreHtml","svg","defaultAlbum","btoa","defaultArtist","defaultPixel","AlbumArt","ARTBASE","art","_cache","objectFit","cache","transparent","dimension","getDimensions","target","classList","src","cacheKey","dispatch","getArt","updateArt","evt","CustomEvent","detail","bubbles","composed","dispatchEvent","querySelector","add","isEmptyArt","base","includes","albumConfig","fetchArtForAlbum","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","classOrDescriptor","clazz","customElements","define","kind","elements","finisher","customElement"],"mappings":"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"}